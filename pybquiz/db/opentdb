from pybquiz.db.base import TriviaTSVDB

import os
from typing import Optional, Literal
import urllib
import pandas as pd
from rich.console import Console
from rich.panel import Panel
from py_markdown_table.markdown_table import markdown_table


class OTDBKey:
    
    KEY_TYPE = "type"
    KEY_DIFFICULTY = "difficulty"
    KEY_CATEGORY = "category"
    KEY_QUESTION = "question"
    KEY_CORRECT_ANSWER = "correct_answer"
    KEY_WRONG_ANSWER_1 = "wrong_answers_1"
    KEY_WRONG_ANSWER_2 = "wrong_answers_2"
    KEY_WRONG_ANSWER_3 = "wrong_answers_3"
    KEY_UUID = "uuid"
        

class OpenTriviaDB(TriviaTSVDB):
        
    def __init__(
        self, 
        cache: Optional[str] = '.cache',         
        filename_db: Optional[str] = "opentdb",
    ) -> None:
        """Who wnats to be a millionaire database

        Parameters
        ----------
        cache : Optional[str], optional
            Location of the database, by default '.cache'
        filename_db : Optional[str], optional
            Name of the database, by default "jeopardy"
        """
                
        # Define online scrapper
        super().__init__(
            cache=cache, 
            update=False,
            path_db=os.path.join(cache, filename_db + ".tsv")
        )

    def initialize(self):
        pass
                  
    def update(self):
        pass
    
    def finalize(self):
        pass
        
    def pprint(self):
        pass
        
    